---
title: Python中+和+=的异同
date: 2018-02-25 22:03:43
tags: 
categories: Python
---

首先我们来看一个例子

\>>> a = [1,2]
\>>> b = a
\>>> b += [1]
\>>> b
[1, 2, 1]
\>>> a
[1, 2, 1]

第二个例子
\>>> a = [1,2]
\>>> c = a
\>>> c = c + [1]
\>>> c
[1, 2, 1]
\>>> a
[1, 2]

由以上结果我们可以轻易地看出+和+=所得到的结果是不同的

对于 +=  操作，调用 \__iadd__方法，直接在原对象上进行更新

对于 + 操作，调用\__add__方法，返回一个新的对象，新对象的修改对原对象没有影响

对于不可变类型，没有\__iadd__方法，只会调用\__add__方法，所以+=和+的效果是一样的

总结一下：

针对可变类型：

- `+`： 代表连接操作，其结果会创建一个新的对象。
- `+=`： 代表追加操作，即 in-place 操作，在原地把另一个对象的内容追加到对象中。

对于不可变类型： 

`+` 与 `+=` 都代表连接或求和操作，两者没有什么区别，其操作的结果都会产生一个新的对象。



